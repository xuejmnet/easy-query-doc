import{_ as c}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o as u,c as r,a as k,w as a,e,d as n,b as s}from"./app-bb0aa1c5.js";const i={},d=e(`<h1 id="数据追踪" tabindex="-1"><a class="header-anchor" href="#数据追踪" aria-hidden="true">#</a> 数据追踪</h1><p><code>easy-query</code>提供了数据追踪功能,对于对象更新方法提供了数据追踪,保证对象更新时的差异更新而不是全量更新。<strong>默认需要自行开启</strong><br> 如果存在复杂对象通过<code>ValueConverter</code>转换的需要实现重写<code>hashcode</code>和<code>equals</code></p><h2 id="spring-boot" tabindex="-1"><a class="header-anchor" href="#spring-boot" aria-hidden="true">#</a> spring-boot</h2><p>如何开启数据追踪</p><ul><li>添加注解<code>@EasyQueryTrack</code></li><li>查询使用<code>asTracking</code>使当前查询结果添加到追踪上下文，或者使用<code>easyQuery.addTracking()</code>手动添加到当前上下文</li></ul><h2 id="非spring-boot环境" tabindex="-1"><a class="header-anchor" href="#非spring-boot环境" aria-hidden="true">#</a> 非spring-boot环境</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>
<span class="token class-name">TrackManager</span> trackManager <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">getRuntimeContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTrackManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    trackManager<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//todo</span>

<span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
    trackManager<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>@EasyQueryTrack</code>注解的本质就是<code>TrackManager.begin</code></p><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> api</h2><h3 id="trackmanager" tabindex="-1"><a class="header-anchor" href="#trackmanager" aria-hidden="true">#</a> TrackManager</h3><table><thead><tr><th>方法名</th><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>begin</td><td>无</td><td>当前上下文开启追踪 需要和<code>release()</code>成对使用</td></tr><tr><td>release</td><td>无</td><td>当前上下文开启追踪 需要和<code>begin()</code>成对使用</td></tr><tr><td>currentThreadTracking</td><td>无</td><td>当前线程是否开启了追踪</td></tr><tr><td>getCurrentTrackContext</td><td>无</td><td>获取当前线程追踪上下文没有这返回null</td></tr></tbody></table><h3 id="queryable" tabindex="-1"><a class="header-anchor" href="#queryable" aria-hidden="true">#</a> Queryable</h3><table><thead><tr><th>方法名</th><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>asTracking</td><td>无</td><td>当前查询条件使用追踪需开启<code>TrackManager.begin</code></td></tr><tr><td>asNoTracking</td><td>无</td><td>当前查询条件不使用追踪查询,默认就是不使用</td></tr></tbody></table><h3 id="easyquery" tabindex="-1"><a class="header-anchor" href="#easyquery" aria-hidden="true">#</a> EasyQuery</h3><table><thead><tr><th>方法名</th><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>addTracking</td><td>entity</td><td>添加<code>entity</code>到当前追踪上下文,如果当前对象不是数据库对象(无法获取数据库表名),将抛出错误,如果对象已被追踪且追踪对象并不是同一个对象也将抛错</td></tr></tbody></table><p>添加追踪主要用于对当前对象进行对象属性赋值前后的变更进行记录,可以动态生成<code>update</code>sql语句,实现智能差异更新</p><h2 id="demo数据" tabindex="-1"><a class="header-anchor" href="#demo数据" aria-hidden="true">#</a> demo数据</h2>`,17),m=s("div",{class:"language-java line-numbers-mode","data-ext":"java"},[s("pre",{class:"language-java"},[s("code",null,[s("span",{class:"token annotation punctuation"},"@Data"),n(`
`),s("span",{class:"token annotation punctuation"},"@Table"),s("span",{class:"token punctuation"},"("),n("value "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token string"},'"t_sys_user_track"'),s("span",{class:"token punctuation"},")"),n(`
`),s("span",{class:"token keyword"},"public"),n(),s("span",{class:"token keyword"},"class"),n(),s("span",{class:"token class-name"},"SysUserTrack"),s("span",{class:"token punctuation"},"{"),n(`
    `),s("span",{class:"token annotation punctuation"},"@Column"),s("span",{class:"token punctuation"},"("),n("primaryKey "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token boolean"},"true"),s("span",{class:"token punctuation"},")"),n(`
    `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token class-name"},"String"),n(" id"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token class-name"},"String"),n(" username"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token annotation punctuation"},"@Encryption"),s("span",{class:"token punctuation"},"("),n("strategy "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"DefaultAesEasyEncryptionStrategy"),s("span",{class:"token punctuation"},"."),s("span",{class:"token keyword"},"class"),s("span",{class:"token punctuation"},","),n(" supportQueryLike "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token boolean"},"true"),s("span",{class:"token punctuation"},")"),n(`
    `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token class-name"},"String"),n(" phone"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token annotation punctuation"},"@Encryption"),s("span",{class:"token punctuation"},"("),n("strategy "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"DefaultAesEasyEncryptionStrategy"),s("span",{class:"token punctuation"},"."),s("span",{class:"token keyword"},"class"),s("span",{class:"token punctuation"},","),n(" supportQueryLike "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token boolean"},"true"),s("span",{class:"token punctuation"},")"),n(`
    `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token class-name"},"String"),n(" idCard"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token annotation punctuation"},"@Encryption"),s("span",{class:"token punctuation"},"("),n("strategy "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token class-name"},"DefaultAesEasyEncryptionStrategy"),s("span",{class:"token punctuation"},"."),s("span",{class:"token keyword"},"class"),s("span",{class:"token punctuation"},","),n(" supportQueryLike "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token boolean"},"true"),s("span",{class:"token punctuation"},")"),n(`
    `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token class-name"},"String"),n(" address"),s("span",{class:"token punctuation"},";"),n(`
    `),s("span",{class:"token doc-comment comment"},`/**
     * 创建时间;创建时间
     */`),n(`
    `),s("span",{class:"token keyword"},"private"),n(),s("span",{class:"token class-name"},"LocalDateTime"),n(" createTime"),s("span",{class:"token punctuation"},";"),n(`
`),s("span",{class:"token punctuation"},"}"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),v=s("div",{class:"language-sql line-numbers-mode","data-ext":"sql"},[s("pre",{class:"language-sql"},[s("code",null,[s("span",{class:"token comment"},"-- 数据库表结构语句"),n(`
`),s("span",{class:"token keyword"},"create"),n(),s("span",{class:"token keyword"},"table"),n(` t_sys_user_track
`),s("span",{class:"token punctuation"},"("),n(`
    id `),s("span",{class:"token keyword"},"varchar"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"32"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token operator"},"not"),n(),s("span",{class:"token boolean"},"null"),n(),s("span",{class:"token keyword"},"comment"),n(),s("span",{class:"token string"},"'主键ID'"),s("span",{class:"token keyword"},"primary"),n(),s("span",{class:"token keyword"},"key"),s("span",{class:"token punctuation"},","),n(`
    username `),s("span",{class:"token keyword"},"varchar"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"50"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token boolean"},"null"),n(),s("span",{class:"token keyword"},"comment"),n(),s("span",{class:"token string"},"'姓名'"),s("span",{class:"token punctuation"},","),n(`
    phone `),s("span",{class:"token keyword"},"varchar"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"250"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token boolean"},"null"),n(),s("span",{class:"token keyword"},"comment"),n(),s("span",{class:"token string"},"'手机号加密'"),s("span",{class:"token punctuation"},","),n(`
    id_card `),s("span",{class:"token keyword"},"varchar"),s("span",{class:"token punctuation"},"("),s("span",{class:"token number"},"500"),s("span",{class:"token punctuation"},")"),n(),s("span",{class:"token boolean"},"null"),n(),s("span",{class:"token keyword"},"comment"),n(),s("span",{class:"token string"},"'身份证编号'"),s("span",{class:"token punctuation"},","),n(`
    address `),s("span",{class:"token keyword"},"text"),n(),s("span",{class:"token boolean"},"null"),n(),s("span",{class:"token keyword"},"comment"),n(),s("span",{class:"token string"},"'地址'"),s("span",{class:"token punctuation"},","),n(`
    create_time `),s("span",{class:"token keyword"},"datetime"),n(),s("span",{class:"token operator"},"not"),n(),s("span",{class:"token boolean"},"null"),n(),s("span",{class:"token keyword"},"comment"),n(),s("span",{class:"token string"},"'创建时间'"),n(`
`),s("span",{class:"token punctuation"},")"),s("span",{class:"token keyword"},"comment"),n(),s("span",{class:"token string"},"'用户追踪表'"),s("span",{class:"token punctuation"},";"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),b=e(`<h2 id="新增测试数据" tabindex="-1"><a class="header-anchor" href="#新增测试数据" aria-hidden="true">#</a> 新增测试数据</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>
<span class="token class-name">SysUserTrack</span> sysUserTrack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SysUserTrack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sysUserTrack<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sysUserTrack<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;Username1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sysUserTrack<span class="token punctuation">.</span><span class="token function">setPhone</span><span class="token punctuation">(</span><span class="token string">&quot;13232323232&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sysUserTrack<span class="token punctuation">.</span><span class="token function">setIdCard</span><span class="token punctuation">(</span><span class="token string">&quot;123456789000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sysUserTrack<span class="token punctuation">.</span><span class="token function">setAddress</span><span class="token punctuation">(</span><span class="token string">&quot;浙江省绍兴市越城区城市广场&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sysUserTrack<span class="token punctuation">.</span><span class="token function">setCreateTime</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> l1 <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">insertable</span><span class="token punctuation">(</span>sysUserTrack<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeRows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Preparing</span><span class="token operator">:</span> <span class="token constant">INSERT</span> <span class="token class-name">INTO</span> t_sys_user_track <span class="token punctuation">(</span>\`id\`<span class="token punctuation">,</span>\`username\`<span class="token punctuation">,</span>\`phone\`<span class="token punctuation">,</span>\`id_card\`<span class="token punctuation">,</span>\`address\`<span class="token punctuation">,</span>\`create_time\`<span class="token punctuation">)</span> <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token operator">?</span><span class="token punctuation">,</span><span class="token operator">?</span><span class="token punctuation">,</span><span class="token operator">?</span><span class="token punctuation">,</span><span class="token operator">?</span><span class="token punctuation">,</span><span class="token operator">?</span><span class="token punctuation">,</span><span class="token operator">?</span><span class="token punctuation">)</span> 
<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Parameters</span><span class="token operator">:</span> <span class="token function">1</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">Username1</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">WMHRmY6r4m7ir0KM</span><span class="token operator">/</span><span class="token class-name">D4OmQ</span><span class="token operator">==</span>kDIASgoxeZjK9M<span class="token operator">+</span><span class="token class-name">Qem</span><span class="token operator">/</span><span class="token constant">HOQ</span><span class="token operator">==</span><span class="token number">56</span>QkLSvTa6eE9qpwjbYsRQ<span class="token operator">==</span>kDIASgoxeZjK9M<span class="token operator">+</span><span class="token class-name">Qem</span><span class="token operator">/</span><span class="token constant">HOQ</span><span class="token operator">==</span><span class="token number">56</span>QkLSvTa6eE9qpwjbYsRQ<span class="token operator">==</span>kDIASgoxeZjK9M<span class="token operator">+</span><span class="token class-name">Qem</span><span class="token operator">/</span><span class="token constant">HOQ</span><span class="token operator">==</span><span class="token number">56</span>QkLSvTa6eE9qpwjbYsRQ<span class="token operator">==</span>kDIASgoxeZjK9M<span class="token operator">+</span><span class="token class-name">Qem</span><span class="token operator">/</span><span class="token constant">HOQ</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">OdaUl359SnxsbyZqMa05XA</span><span class="token operator">==</span><span class="token number">496</span>uK1pkxUbdvpq0A7q0uQ<span class="token operator">==</span><span class="token class-name">PvHC30OSR7k27xKN36fp4g</span><span class="token operator">==</span><span class="token operator">+</span>ta<span class="token operator">/</span><span class="token class-name">N</span><span class="token operator">+</span><span class="token number">1</span>ivZAjSILsqeNjfA<span class="token operator">==</span>hs33W1UJDlk1EFb0Nyhorw<span class="token operator">==</span>biDnRYo<span class="token operator">+</span><span class="token class-name">Cm5gy0r913fTOA</span><span class="token operator">==</span><span class="token number">2</span>Rp6hA8XQx2oIhTRo4ni2g<span class="token operator">==</span><span class="token class-name">I6gg2QDr60Qx1Eq186LAGQ</span><span class="token operator">==</span><span class="token number">9</span>g<span class="token operator">+</span><span class="token number">7</span>mmP9u30kPOFB<span class="token operator">+</span><span class="token class-name">Xcz</span><span class="token operator">+</span><span class="token class-name">A</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span>eKgY<span class="token operator">/</span>tc5Kw0qzXu0<span class="token operator">+</span>uUSLg<span class="token operator">==</span>hbIDJTImQweEbbz5EMyrHg<span class="token operator">==</span><span class="token class-name">JI18Lhiq</span><span class="token operator">/</span>kcrrVsD1fA<span class="token operator">++</span><span class="token class-name">A</span><span class="token operator">==</span><span class="token number">6</span>S2NNhbFy4VM0KNPmMEXHw<span class="token operator">==</span><span class="token class-name">A000VaxSBiODisuUDxv7Ow</span><span class="token operator">==</span>d8z7fptVPIYMvhiXTVuJBA<span class="token operator">==</span>xCHjVvd0uVW7a435<span class="token operator">+</span><span class="token number">66</span>hCQ<span class="token operator">==</span><span class="token class-name">YQcXESYWhm</span><span class="token operator">+</span><span class="token number">0</span>Knr39sU2OA<span class="token operator">==</span><span class="token class-name">SkFE84TtzzfqHWZFbfaDKw</span><span class="token operator">==</span><span class="token class-name">IeaiLfgcyjbsMsCN7HvNVw</span><span class="token operator">==</span><span class="token class-name">V7c</span><span class="token operator">/</span><span class="token class-name">MZCC2DqXidxGrYe2RQ</span><span class="token operator">==</span>n1Pxqra9C9LFh5xCY6xj6w<span class="token operator">==</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span><span class="token constant">T23</span><span class="token operator">:</span><span class="token number">08</span><span class="token operator">:</span><span class="token number">49.</span><span class="token function">059</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">)</span>
<span class="token operator">&lt;=</span><span class="token operator">=</span> <span class="token class-name">Total</span><span class="token operator">:</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="追踪更新" tabindex="-1"><a class="header-anchor" href="#追踪更新" aria-hidden="true">#</a> 追踪更新</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">TrackManager</span> trackManager <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">getRuntimeContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTrackManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    trackManager<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SysUserTrack</span> sysUserTrack1 <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">queryable</span><span class="token punctuation">(</span><span class="token class-name">SysUserTrack</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asTracking</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">whereById</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">firstOrNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> b <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">addTracking</span><span class="token punctuation">(</span>sysUserTrack1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">assertFalse</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    sysUserTrack1<span class="token punctuation">.</span><span class="token function">setPhone</span><span class="token punctuation">(</span><span class="token string">&quot;9876543210&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> l2 <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">updatable</span><span class="token punctuation">(</span>sysUserTrack1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeRows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>l2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SysUserTrack</span> sysUserTrack2 <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">queryable</span><span class="token punctuation">(</span><span class="token class-name">SysUserTrack</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">whereById</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">firstOrNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">assertNotNull</span><span class="token punctuation">(</span>sysUserTrack2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">&quot;9876543210&quot;</span><span class="token punctuation">,</span>sysUserTrack2<span class="token punctuation">.</span><span class="token function">getPhone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
    trackManager<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//追踪更新查询</span>
<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Preparing</span><span class="token operator">:</span> <span class="token constant">SELECT</span> t<span class="token punctuation">.</span>\`id\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`username\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`phone\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`id_card\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`address\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`create_time\` <span class="token constant">FROM</span> t_sys_user_track t <span class="token constant">WHERE</span> t<span class="token punctuation">.</span>\`id\` <span class="token operator">=</span> <span class="token operator">?</span> <span class="token class-name">LIMIT</span> <span class="token number">1</span>
<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Parameters</span><span class="token operator">:</span> <span class="token function">1</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
<span class="token operator">&lt;=</span><span class="token operator">=</span> <span class="token class-name">Total</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">Query</span> <span class="token class-name">Use</span><span class="token operator">:</span> <span class="token function">3</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>

<span class="token comment">//差异更新 只更新了phone字段并未对所有的字段进行更新</span>
<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Preparing</span><span class="token operator">:</span> <span class="token constant">UPDATE</span> t_sys_user_track <span class="token constant">SET</span> \`phone\` <span class="token operator">=</span> <span class="token operator">?</span> <span class="token constant">WHERE</span> \`id\` <span class="token operator">=</span> <span class="token operator">?</span>
<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Parameters</span><span class="token operator">:</span> seCzI8LaMkjGIkSftziv9A<span class="token operator">==</span><span class="token number">1</span>eLkqpKHc0<span class="token operator">+</span>z7SJdQatSPQ<span class="token operator">==</span><span class="token number">3</span>v3uw7ZFJo0Tpx49WSMSMQ<span class="token operator">==</span><span class="token class-name">LtHsv2KAcRLroXaP4dZfUA</span><span class="token operator">==</span><span class="token number">8</span>ea6UUe6hNYz5k<span class="token operator">+</span><span class="token class-name">VZDQzVA</span><span class="token operator">==</span><span class="token class-name">Si5J530HvuEvZzZfAqnznA</span><span class="token operator">==</span><span class="token class-name">VlCQ13</span><span class="token operator">+</span>oM8wbOny682WILQ<span class="token operator">==</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">1</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
<span class="token operator">&lt;=</span><span class="token operator">=</span> <span class="token class-name">Total</span><span class="token operator">:</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="开启追踪后对象属性不修改更新" tabindex="-1"><a class="header-anchor" href="#开启追踪后对象属性不修改更新" aria-hidden="true">#</a> 开启追踪后对象属性不修改更新</h2><p>如果开启了追踪并且对象属性没有进行修改那么本次更新将不会生成sql执行数据库，因为程序认为本次没有任何需要变更的数据也就不需要更新</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>
<span class="token class-name">TrackManager</span> trackManager <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">getRuntimeContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTrackManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    trackManager<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SysUserTrack</span> sysUserTrack1 <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">queryable</span><span class="token punctuation">(</span><span class="token class-name">SysUserTrack</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asTracking</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">whereById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">firstOrNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> b <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">addTracking</span><span class="token punctuation">(</span>sysUserTrack1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">assertFalse</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//因为开启了追踪但是对象数据没有发生变化,所以不生成sql不使用更新;</span>
    <span class="token keyword">long</span> l2 <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">updatable</span><span class="token punctuation">(</span>sysUserTrack1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeRows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> l2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    trackManager<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Preparing</span><span class="token operator">:</span> <span class="token constant">SELECT</span> t<span class="token punctuation">.</span>\`id\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`username\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`phone\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`id_card\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`address\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`create_time\` <span class="token constant">FROM</span> t_sys_user_track t <span class="token constant">WHERE</span> t<span class="token punctuation">.</span>\`id\` <span class="token operator">=</span> <span class="token operator">?</span> <span class="token class-name">LIMIT</span> <span class="token number">1</span>
<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Parameters</span><span class="token operator">:</span> <span class="token function">5</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
<span class="token operator">&lt;=</span><span class="token operator">=</span> <span class="token class-name">Total</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">Query</span> <span class="token class-name">Use</span><span class="token operator">:</span> <span class="token function">6</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="不追踪更新" tabindex="-1"><a class="header-anchor" href="#不追踪更新" aria-hidden="true">#</a> 不追踪更新</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>
<span class="token class-name">TrackManager</span> trackManager <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">getRuntimeContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTrackManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    trackManager<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SysUserTrack</span> sysUserTrack1 <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">queryable</span><span class="token punctuation">(</span><span class="token class-name">SysUserTrack</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">whereById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">firstOrNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sysUserTrack1<span class="token punctuation">.</span><span class="token function">setPhone</span><span class="token punctuation">(</span><span class="token string">&quot;9876543210&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> l2 <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">updatable</span><span class="token punctuation">(</span>sysUserTrack1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeRows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> l2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SysUserTrack</span> sysUserTrack2 <span class="token operator">=</span> easyQuery<span class="token punctuation">.</span><span class="token function">queryable</span><span class="token punctuation">(</span><span class="token class-name">SysUserTrack</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">whereById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">firstOrNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">assertNotNull</span><span class="token punctuation">(</span>sysUserTrack2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">&quot;9876543210&quot;</span><span class="token punctuation">,</span> sysUserTrack2<span class="token punctuation">.</span><span class="token function">getPhone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    trackManager<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Preparing</span><span class="token operator">:</span> <span class="token constant">SELECT</span> t<span class="token punctuation">.</span>\`id\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`username\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`phone\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`id_card\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`address\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`create_time\` <span class="token constant">FROM</span> t_sys_user_track t <span class="token constant">WHERE</span> t<span class="token punctuation">.</span>\`id\` <span class="token operator">=</span> <span class="token operator">?</span> <span class="token class-name">LIMIT</span> <span class="token number">1</span>
<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Parameters</span><span class="token operator">:</span> <span class="token function">6</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
<span class="token operator">&lt;=</span><span class="token operator">=</span> <span class="token class-name">Total</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">Query</span> <span class="token class-name">Use</span><span class="token operator">:</span> <span class="token function">2</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>

<span class="token comment">//全字段更新</span>
<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Preparing</span><span class="token operator">:</span> <span class="token constant">UPDATE</span> t_sys_user_track <span class="token constant">SET</span> \`username\` <span class="token operator">=</span> <span class="token operator">?</span><span class="token punctuation">,</span>\`phone\` <span class="token operator">=</span> <span class="token operator">?</span><span class="token punctuation">,</span>\`id_card\` <span class="token operator">=</span> <span class="token operator">?</span><span class="token punctuation">,</span>\`address\` <span class="token operator">=</span> <span class="token operator">?</span><span class="token punctuation">,</span>\`create_time\` <span class="token operator">=</span> <span class="token operator">?</span> <span class="token constant">WHERE</span> \`id\` <span class="token operator">=</span> <span class="token operator">?</span>
<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Parameters</span><span class="token operator">:</span> <span class="token class-name">Username1</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span>seCzI8LaMkjGIkSftziv9A<span class="token operator">==</span><span class="token number">1</span>eLkqpKHc0<span class="token operator">+</span>z7SJdQatSPQ<span class="token operator">==</span><span class="token number">3</span>v3uw7ZFJo0Tpx49WSMSMQ<span class="token operator">==</span><span class="token class-name">LtHsv2KAcRLroXaP4dZfUA</span><span class="token operator">==</span><span class="token number">8</span>ea6UUe6hNYz5k<span class="token operator">+</span><span class="token class-name">VZDQzVA</span><span class="token operator">==</span><span class="token class-name">Si5J530HvuEvZzZfAqnznA</span><span class="token operator">==</span><span class="token class-name">VlCQ13</span><span class="token operator">+</span>oM8wbOny682WILQ<span class="token operator">==</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">OdaUl359SnxsbyZqMa05XA</span><span class="token operator">==</span><span class="token number">496</span>uK1pkxUbdvpq0A7q0uQ<span class="token operator">==</span><span class="token class-name">PvHC30OSR7k27xKN36fp4g</span><span class="token operator">==</span><span class="token operator">+</span>ta<span class="token operator">/</span><span class="token class-name">N</span><span class="token operator">+</span><span class="token number">1</span>ivZAjSILsqeNjfA<span class="token operator">==</span>hs33W1UJDlk1EFb0Nyhorw<span class="token operator">==</span>biDnRYo<span class="token operator">+</span><span class="token class-name">Cm5gy0r913fTOA</span><span class="token operator">==</span><span class="token number">2</span>Rp6hA8XQx2oIhTRo4ni2g<span class="token operator">==</span><span class="token class-name">I6gg2QDr60Qx1Eq186LAGQ</span><span class="token operator">==</span><span class="token number">9</span>g<span class="token operator">+</span><span class="token number">7</span>mmP9u30kPOFB<span class="token operator">+</span><span class="token class-name">Xcz</span><span class="token operator">+</span><span class="token class-name">A</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span>eKgY<span class="token operator">/</span>tc5Kw0qzXu0<span class="token operator">+</span>uUSLg<span class="token operator">==</span>hbIDJTImQweEbbz5EMyrHg<span class="token operator">==</span><span class="token class-name">JI18Lhiq</span><span class="token operator">/</span>kcrrVsD1fA<span class="token operator">++</span><span class="token class-name">A</span><span class="token operator">==</span><span class="token number">6</span>S2NNhbFy4VM0KNPmMEXHw<span class="token operator">==</span><span class="token class-name">A000VaxSBiODisuUDxv7Ow</span><span class="token operator">==</span>d8z7fptVPIYMvhiXTVuJBA<span class="token operator">==</span>xCHjVvd0uVW7a435<span class="token operator">+</span><span class="token number">66</span>hCQ<span class="token operator">==</span><span class="token class-name">YQcXESYWhm</span><span class="token operator">+</span><span class="token number">0</span>Knr39sU2OA<span class="token operator">==</span><span class="token class-name">SkFE84TtzzfqHWZFbfaDKw</span><span class="token operator">==</span><span class="token class-name">IeaiLfgcyjbsMsCN7HvNVw</span><span class="token operator">==</span><span class="token class-name">V7c</span><span class="token operator">/</span><span class="token class-name">MZCC2DqXidxGrYe2RQ</span><span class="token operator">==</span>n1Pxqra9C9LFh5xCY6xj6w<span class="token operator">==</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2023</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">08</span><span class="token constant">T09</span><span class="token operator">:</span><span class="token number">57</span><span class="token operator">:</span><span class="token function">08</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">6</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
<span class="token operator">&lt;=</span><span class="token operator">=</span> <span class="token class-name">Total</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Preparing</span><span class="token operator">:</span> <span class="token constant">SELECT</span> t<span class="token punctuation">.</span>\`id\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`username\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`phone\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`id_card\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`address\`<span class="token punctuation">,</span>t<span class="token punctuation">.</span>\`create_time\` <span class="token constant">FROM</span> t_sys_user_track t <span class="token constant">WHERE</span> t<span class="token punctuation">.</span>\`id\` <span class="token operator">=</span> <span class="token operator">?</span> <span class="token class-name">LIMIT</span> <span class="token number">1</span>
<span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Parameters</span><span class="token operator">:</span> <span class="token function">6</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
<span class="token operator">&lt;=</span><span class="token operator">=</span> <span class="token class-name">Total</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">Query</span> <span class="token class-name">Use</span><span class="token operator">:</span> <span class="token function">2</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container danger"><p class="hint-container-title">警告</p><p>！！！如果数据未被差异更新,请确认是否已经开启<code>TrackManager.begin</code>,spring-boot环境下直接使用<code>@EasyQueryTrack</code>注解,且是否使用<code>asTracking</code>查询或者查询后是否已经添加到当前追踪上下,如果数据量过多建议采用非tracking查询，需要更新前手动调用<code>easyQuery.addTracking()</code>来实现,否则每个查询对象都会添加到当前追踪上下文中</p><p>！！！如果数据未被差异更新,请确认是否已经开启<code>TrackManager.begin</code>,spring-boot环境下直接使用<code>@EasyQueryTrack</code>注解,且是否使用<code>asTracking</code>查询或者查询后是否已经添加到当前追踪上下,如果数据量过多建议采用非tracking查询，需要更新前手动调用<code>easyQuery.addTracking()</code>来实现,否则每个查询对象都会添加到当前追踪上下文中</p><p>！！！如果数据未被差异更新,请确认是否已经开启<code>TrackManager.begin</code>,spring-boot环境下直接使用<code>@EasyQueryTrack</code>注解,且是否使用<code>asTracking</code>查询或者查询后是否已经添加到当前追踪上下,如果数据量过多建议采用非tracking查询，需要更新前手动调用<code>easyQuery.addTracking()</code>来实现,否则每个查询对象都会添加到当前追踪上下文中</p></div>`,10);function y(g,h){const o=l("CodeTabs");return u(),r("div",null,[d,k(o,{id:"177",data:[{id:"SysUserTrack"},{id:"SQL"}]},{title0:a(({value:t,isActive:p})=>[n("SysUserTrack")]),title1:a(({value:t,isActive:p})=>[n("SQL")]),tab0:a(({value:t,isActive:p})=>[m]),tab1:a(({value:t,isActive:p})=>[v]),_:1}),b])}const S=c(i,[["render",y],["__file","data-tracking.html.vue"]]);export{S as default};
