import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as o,o as n}from"./app-DyhWZuEd.js";const r={};function i(s,e){return n(),a("div",null,e[0]||(e[0]=[o('<p>eqv2 version has completed the development of all major core functions. Users who do not want to upgrade can continue to use v2, and bugs will still be fixed</p><p>For better and more stable development of the framework, as well as source code readability and maintainability, the author plans to make major changes to the v2 version (previously development was prioritized with functionality first, after all, the author also needs to use it). On one hand, due to historical reasons, easy-query&#39;s api4j module and api4kt module occupied a large number of categories, forcing entity classes to use other class names. On the other hand, too many API choices not only distracted the author&#39;s energy but also caused more confusion and choice difficulties for users. Therefore, upgrading from v2 to v3 has the following break changes</p><h2 id="breakchange" tabindex="-1"><a class="header-anchor" href="#breakchange"><span>BreakChange</span></a></h2><h2 id="configuration-default-value-changes" tabindex="-1"><a class="header-anchor" href="#configuration-default-value-changes"><span>Configuration Default Value Changes</span></a></h2><table><thead><tr><th>Configuration Item</th><th>v2 Default</th><th>v3 Default</th></tr></thead><tbody><tr><td>propertyMode</td><td>FIRST_LOWER</td><td>SAME_AS_ENTITY</td></tr><tr><td>mappingStrategy</td><td>COLUMN_ONLY</td><td>PROPERTY_FIRST</td></tr><tr><td>sharding</td><td>-</td><td>false</td></tr></tbody></table><h2 id="_3-0-3-breaking-changes" tabindex="-1"><a class="header-anchor" href="#_3-0-3-breaking-changes"><span>3.0.3 Breaking Changes</span></a></h2><p>New properties</p><table><thead><tr><th>Configuration Item</th><th>v2 Default</th><th>v3 Default</th></tr></thead><tbody><tr><td>sharding</td><td>-</td><td>false</td></tr></tbody></table><p><code>EntityExpressionExecutor</code> default implementation <code>DefaultEntityExpressionExecutor</code> no longer supports sharding. If sharding is needed, please replace the implementation with <code>ShardingEntityExpressionExecutor</code><br> and optimize the internal logic of <code>DefaultEntityExpressionExecutor</code></p><h2 id="default-removal-of-keepnativestyle" tabindex="-1"><a class="header-anchor" href="#default-removal-of-keepnativestyle"><span>Default Removal of keepNativeStyle</span></a></h2><p>The framework uses keepStyle by default to change single quotes in native SQL fragments to double single quotes. If not needed, you can use the messageFormat function to disable it</p><h3 id="remove-api4j" tabindex="-1"><a class="header-anchor" href="#remove-api4j"><span>Remove api4j</span></a></h3><p>v3 version focuses on entity mode, so the <code>User::getName</code> method is no longer recommended. Therefore, the api4j package is directly removed. So if users want to use api4j and upgrade to v3, they can independently pull <code>sql-api4j</code> from the v2 source code and then separately introduce the v3 <code>sql-core</code> package for relevant adaptation</p><h3 id="remove-api4kt" tabindex="-1"><a class="header-anchor" href="#remove-api4kt"><span>Remove api4kt</span></a></h3><p>Same reason as above</p><h3 id="remove-deprecated-apis" tabindex="-1"><a class="header-anchor" href="#remove-deprecated-apis"><span>Remove Deprecated APIs</span></a></h3><p>Remove deprecated APIs marked with <code>@Deprecated</code>. Users can migrate to the new version API according to the source code prompts before upgrading</p><ul><li><code>GroupKeys.TABLE1.....N</code></li><li><code>QueryStrategy</code>, <code>ProxyEntityOnDuplicateKeyUpdate</code>, <code>SQLOnDuplicateKeyIgnore</code> interfaces</li><li><code>queryLargeColumn</code> method</li><li><code>large</code> attribute under <code>@Column</code></li><li><code>exists</code> changed to <code>table.expression().exists</code></li><li><code>notExists</code> changed to <code>table.expression().notExists</code></li><li><code>valueOrDefault</code>, <code>fetchBy</code>, <code>selectSum</code>, <code>selectAvg</code>, <code>selectMax</code>, <code>selectMin</code>, <code>trimStart</code>, <code>trimEnd</code>, <code>plus+TimeUnit</code>, <code>duration+DateTimeDurationEnum</code>, <code>sqlType</code></li><li><code>SQLParameter</code>, <code>SQLConstantExpression</code>, <code>join</code>, <code>sqlType</code>, <code>sqlType</code>, <code>sqlType</code>, <code>sqlType</code>, <code>sqlType</code></li><li><code>fetchBy</code>, <code>keepNativeStyle</code></li></ul><h3 id="startup-class-error" tabindex="-1"><a class="header-anchor" href="#startup-class-error"><span>Startup Class Error</span></a></h3><p>Must select a database in the configuration file, cannot leave it unselected</p><div class="language-log line-numbers-mode" data-highlighter="shiki" data-ext="log" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">org.springframework.beans.factory.BeanCreationException</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#E06C75;">Error</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> creating bean with name </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;easyQueryClient&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> defined in class path resource [com/easy/query/sql/starter/EasyQueryStarterBuildAutoConfiguration.class]: Failed to instantiate [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">com.easy.query.core.api.client.EasyQueryClient</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]: Factory method </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;easyQueryClient&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> threw exception with message: Please select the correct database dialect. For Spring-related configuration, set it in the yml file, for example:[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">easy-query.database</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: mysql]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="class-and-interface-changes" tabindex="-1"><a class="header-anchor" href="#class-and-interface-changes"><span>Class and Interface Changes</span></a></h2><table><thead><tr><th>v2</th><th>v3</th></tr></thead><tbody><tr><td>SQLExpression1....11</td><td>SQLActionExpression1....11</td></tr><tr><td>ColumnFunctionCompareComparableStringChainExpression</td><td>StringTypeExpression</td></tr><tr><td>ColumnFunctionCompareComparableNumberChainExpression</td><td>NumberTypeExpression</td></tr><tr><td>ColumnFunctionCompareComparableDateTimeChainExpression</td><td>DateTimeTypeExpression</td></tr><tr><td>ColumnFunctionCompareComparableBooleanChainExpression</td><td>BooleanTypeExpression</td></tr><tr><td>ColumnFunctionCompareComparableAnyChainExpression</td><td>AnyTypeExpression</td></tr><tr><td>ColumnFunctionCompareComparablePartitionByChainExpression</td><td>PartitionByTypeExpression</td></tr><tr><td>ColumnFunctionCompareComparableJsonMapChainExpression</td><td>JsonMapTypeExpression</td></tr></tbody></table>',23)]))}const l=t(r,[["render",i]]),p=JSON.parse('{"path":"/en/v2-v3.html","title":"eqv2 Upgrade to v3üî•","lang":"en-US","frontmatter":{"title":"eqv2 Upgrade to v3üî•","order":90,"description":"eqv2 version has completed the development of all major core functions. Users who do not want to upgrade can continue to use v2, and bugs will still be fixed For better and more...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"eqv2 Upgrade to v3üî•\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-10-26T17:39:47.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuejmnet\\",\\"url\\":\\"https://github.com/xuejmnet\\"}]}"],["meta",{"property":"og:url","content":"https://github.com/dromara/easy-query/easy-query-doc/en/v2-v3.html"}],["meta",{"property":"og:site_name","content":"Documentation"}],["meta",{"property":"og:title","content":"eqv2 Upgrade to v3üî•"}],["meta",{"property":"og:description","content":"eqv2 version has completed the development of all major core functions. Users who do not want to upgrade can continue to use v2, and bugs will still be fixed For better and more..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-26T17:39:47.000Z"}],["meta",{"property":"article:modified_time","content":"2025-10-26T17:39:47.000Z"}],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://github.com/dromara/easy-query/easy-query-doc/v2-v3.html"}]]},"git":{"createdTime":1761500387000,"updatedTime":1761500387000,"contributors":[{"name":"Âè™ÊòØÊàë","username":"","email":"alice@example.com","commits":1}]},"readingTime":{"minutes":1.51,"words":454},"filePathRelative":"en/v2-v3.md","autoDesc":true}');export{l as comp,p as data};
